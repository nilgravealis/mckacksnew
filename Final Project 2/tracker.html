<html>
<head>
	<link rel="stylesheet" type="text/css" href="layout.css">
	<title>TRACKER</title>
</head>
<style>
	table {
	  border-collapse: collapse;
	  width: 100%;
	}
	
	td, th {
	  border: 1px solid #92C7CF;
	  text-align: left;
	  padding: 8px;
	}
	
	tr:nth-child(even) {
	  background-color: #92C7CF;
	}
	</style>
<body>
	<font face="seravek">

<a href="default.html">
	<header>
	</header>
</a>

<nav>
	<center>
		<ul>
			<li><a href="default.html">HOME</a>
				<li><a class="active" href="tracker.html">TRACKER</a>
				<li><a href="treatments.html">TREATMENTS</a>
				<li><a href="message.html">MESSAGE ME</a>
		</ul>
	</center>
</nav>

<div id="result">
	<center>
	Why haven't you been tracking your data? This is why you're so unhealthy.
</center>
</div>

<form id="myform">
	<center>
		<input type="checkbox" id="symptom1" name="symptom1" value="Mid">
		<label for="symptom1"> I am feeling generally mid today.</label><br>
		<input type="checkbox" id="symptom2" name="symptom2" value="Hair">
		<label for="symptom2"> My hair follicles hurt today.</label><br>
		<input type="checkbox" id="symptom3" name="symptom3" value="Happiness">
		<label for="symptom3"> I felt happy today, and used my time to the fullest.</label><br>
		<br>
	</center>
</form>
<div>
<center>
	<button id="sussify" onclick="store()" type="button">Sussify My Symptoms!</button>
</center>
</div>
<div>
<center>
<table id="myTable">
	<tr>
		<th>Date</th>
		<th>Midness Experienced</th>
		<th>Hair Follicles Hurting</th>
		<th>Happiness and Contentment</th>
	</tr>
</table>
</center>
</div>




<script id="formSubmission">

	localStorage.clear();

	// this part of the script stops the user from being able to be happy
	const symptom1 = document.getElementById("symptom1");
	const symptom2 = document.getElementById("symptom2");
	const symptom3 = document.getElementById("symptom3");

	symptom3.addEventListener("change", () => {
		if (symptom3.checked){
			alert("Our medical team cannot help you if you are unwilling to help yourself. Please answer honestly.");
			symptom3.checked = false;
		}
	})

	function store(){
		 var table = document.getElementById("myTable");
		 //make the new row
		 var row = table.insertRow(-1);
		 //add the new cells to the row
		 var dayCell = row.insertCell(0);
		 var s1 = row.insertCell(1);
		 var s2 = row.insertCell(2);
		 var s3 = row.insertCell(3);

		 //add the appropriate values to the cell
		 var date = new Date();
		 dayCell.innerHTML = date;
		 s1.innerHTML = Boolean(symptom1.checked);
		 s2.innerHTML = Boolean(symptom2.checked);
		 s3.innerHTML = Boolean(symptom3.checked);

		 //save the table
		 if (typeof(Storage) !== "undefined") {
			if (localStorage.rowsCount) {
			localStorage.rowsCount = Number(localStorage.rowsCount)+1;
			} 
			else {
			localStorage.rowsCount = 1;
			}
			if (localStorage.rowsCount > 10){
				document.getElementById("result").innerHTML = "You have logged symptoms " + localStorage.rowsCount + " times. That's WAY too much. Our medical team is busy with people who have it worse than you. You should be ashamed.";
				document.getElementById("sussify").style.visibility = 'hidden';
			}
			
		 } 
		 else {
			document.getElementById("result").innerHTML = "No web storage. Why is your computer bad?";
  		}
		 
	}
</script>
</font>
</body>
</html>